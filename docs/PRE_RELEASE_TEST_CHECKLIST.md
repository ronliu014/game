# 打包前测试清单 (Pre-Release Test Checklist)

**测试日期**: 2026-01-25
**测试人员**: Claude Code
**项目版本**: v1.0.0
**测试目的**: 验证目录清理后项目功能完整性

---

## 📋 测试环境

- **操作系统**: Windows 10/11
- **Python版本**: 3.13.11
- **Conda环境**: Game (D:\anaconda3\envs\Game)
- **分辨率**: 800x600

---

## ✅ 测试项目

### 1. 启动测试

- [ ] **1.1** 游戏能够正常启动
- [ ] **1.2** 窗口标题显示正确
- [ ] **1.3** 窗口图标显示正确
- [ ] **1.4** 启动时间 < 2秒
- [ ] **1.5** 无错误日志输出

**测试方法**:
```bash
python start_game.py
```

---

### 2. 主菜单场景测试

- [ ] **2.1** 主菜单背景正常显示
- [ ] **2.2** 游戏标题显示正确（"电路修复游戏"）
- [ ] **2.3** 进度面板显示正确（右上角）
- [ ] **2.4** 难度选择按钮显示正常（4个按钮）
- [ ] **2.5** 难度选择按钮可点击切换
- [ ] **2.6** 选中的难度按钮高亮显示
- [ ] **2.7** "新游戏"按钮显示正常
- [ ] **2.8** "关卡选择"按钮显示正常（新功能）
- [ ] **2.9** "退出游戏"按钮显示正常
- [ ] **2.10** 所有按钮hover效果正常

**测试方法**: 启动游戏后观察主菜单

---

### 3. 关卡选择场景测试（新功能）

- [ ] **3.1** 从主菜单点击"关卡选择"能正常进入
- [ ] **3.2** 场景标题显示正确（"选择关卡"）
- [ ] **3.3** 10个关卡按钮以5x2网格排列
- [ ] **3.4** 已解锁关卡显示为白色可点击
- [ ] **3.5** 已完成关卡显示为绿色
- [ ] **3.6** 已完成关卡下方显示星级（★★★）
- [ ] **3.7** 未解锁关卡显示为灰色不可点击
- [ ] **3.8** 未解锁关卡下方显示锁图标（🔒）
- [ ] **3.9** 点击已解锁关卡能进入游戏
- [ ] **3.10** "返回主菜单"按钮正常工作
- [ ] **3.11** ESC键能返回主菜单

**测试方法**: 主菜单 → 关卡选择

---

### 4. 加载场景测试

- [ ] **4.1** 从主菜单点击"新游戏"能进入加载场景
- [ ] **4.2** 从关卡选择点击关卡能进入加载场景
- [ ] **4.3** 加载背景图片正常显示
- [ ] **4.4** 加载进度条正常显示
- [ ] **4.5** 加载提示文字正常显示
- [ ] **4.6** 加载完成后自动跳转到游戏场景
- [ ] **4.7** 加载时间 < 500ms

**测试方法**: 主菜单 → 新游戏 → 观察加载过程

---

### 5. 游戏场景测试

- [ ] **5.1** 游戏背景正常显示
- [ ] **5.2** 电路板网格正常显示
- [ ] **5.3** 电路元件图片正常显示
  - [ ] 电源（红色圆点）
  - [ ] 终点（绿色圆点）
  - [ ] 直线电路
  - [ ] 转角电路
- [ ] **5.4** 可点击的黑色方块正常显示
- [ ] **5.5** 点击黑色方块能旋转电路（90度顺时针）
- [ ] **5.6** 旋转动画流畅（无卡顿）
- [ ] **5.7** 倒计时显示正常（右上角）
- [ ] **5.8** 倒计时数字递减正常
- [ ] **5.9** 移动次数显示正常
- [ ] **5.10** 点击后移动次数增加
- [ ] **5.11** 调试面板可通过F3切换显示
- [ ] **5.12** ESC键能暂停游戏

**测试方法**: 进入任意关卡进行游戏

---

### 6. 胜利场景测试

- [ ] **6.1** 完成电路连接后自动进入胜利场景
- [ ] **6.2** 胜利背景图片正常显示
- [ ] **6.3** "胜利！"文字显示正常
- [ ] **6.4** 星级评分显示正常（1-3星）
- [ ] **6.5** 用时显示正确
- [ ] **6.6** 移动次数显示正确
- [ ] **6.7** "下一关"按钮显示正常
- [ ] **6.8** "返回主菜单"按钮显示正常
- [ ] **6.9** 点击"下���关"能进入下一关卡
- [ ] **6.10** 点击"返回主菜单"能返回主菜单

**测试方法**: 完成一个关卡

---

### 7. 失败场景测试

- [ ] **7.1** 倒计时结束后自动进入失败场景
- [ ] **7.2** 失败背景图片正常显示
- [ ] **7.3** "失败"文字显示正常
- [ ] **7.4** 失败原因显示正确（"时间用尽"）
- [ ] **7.5** "重试"按钮显示正常
- [ ] **7.6** "返回主菜单"按钮显示正常
- [ ] **7.7** 点击"重试"能重新开始当前关卡
- [ ] **7.8** 点击"返回主菜单"能返回主菜单

**测试方法**: 进入关卡后等待倒计时结束

---

### 8. 资源加载测试（重点）

由于我们移动了 `assets/ui/` → `assets/sprites/ui/`，需要特别测试：

- [ ] **8.1** 所有UI背景图片正常加载
  - [ ] 主菜单背景
  - [ ] 游戏场景背景
  - [ ] 加载场景背景
  - [ ] 胜利场景背景
  - [ ] 失败场景背景
- [ ] **8.2** 所有按钮图片正常加载
  - [ ] 按钮normal状态
  - [ ] 按钮hover状态
  - [ ] 按钮pressed状态
- [ ] **8.3** 所有图标正常加载
  - [ ] 游戏图标
  - [ ] 调试图标
  - [ ] 设置图标
- [ ] **8.4** 游戏标题logo正常显示
- [ ] **8.5** 无"文件未找到"错误

**测试方法**: 遍历所有场景，观察是否有资源加载失败

---

### 9. 进度系统测试

- [ ] **9.1** 完成关卡后进度正确保存
- [ ] **9.2** 星级评分正确保存
- [ ] **9.3** 下一关卡正确解锁
- [ ] **9.4** 主菜单进度面板显示正确
- [ ] **9.5** 关卡选择场景显示正确的解锁状态
- [ ] **9.6** 存档文件正确生成（data/saves/）

**测试方法**: 完成多个关卡，检查进度保存

---

### 10. 性能测试

- [ ] **10.1** 游戏运行帧率 ≥ 60 FPS
- [ ] **10.2** 场景切换流畅无卡顿
- [ ] **10.3** 旋转动画流畅
- [ ] **10.4** 内存占用稳定（无内存泄漏）
- [ ] **10.5** CPU占用正常（< 30%）

**测试方法**: 使用F3调试面板查看FPS

---

### 11. 异常处理测试

- [ ] **11.1** 缺少存档文件时能正常启动
- [ ] **11.2** 关闭窗口能正常退出
- [ ] **11.3** 异常情况有友好的错误提示
- [ ] **11.4** 日志文件正确记录（logs/game.log）

**测试方法**: 删除存档文件后重新启动

---

### 12. 完整流程测试

- [ ] **12.1** 完整流程1: 主菜单 → 新游戏 → 完成关卡 → 下一关 → 返回主菜单
- [ ] **12.2** 完整流程2: 主菜单 → 关卡选择 → 选择关卡 → 游戏 → 返回主菜单
- [ ] **12.3** 完整流程3: 主菜单 → 新游戏 → 失败 → 重试 → 完成 → 返回主菜单
- [ ] **12.4** 完整流程4: 连续完成多个关卡（测试进度系统）

**测试方法**: 按照流程逐步操作

---

## 📊 测试结果统计

- **总测试项**: 120+
- **通过**: ___
- **失败**: ___
- **阻塞**: ___
- **跳过**: ___

---

## 🐛 发现的问题

### 严重问题（阻塞发布）
_无_

### 一般问题（可以发布）
_待测试_

### 优化建议
_待测试_

---

## ✅ 测试结论

- [ ] **通过** - 所有功能正常，可以打包发布
- [ ] **有条件通过** - 存在小问题但不影响核心功能
- [ ] **不通过** - 存在严重问题，需要修复后重新测试

---

## 📝 测试备注

_待填写_

---

**测试完成时间**: ___
**测试人员签名**: ___
