# 人工测试指南 (Manual Testing Guide)

**测试版本**: v1.0.0
**测试分支**: feature/v1.0.0-upgrade
**测试日期**: 2026-01-25
**测试目的**: 合并前的最终验证

---

## 🎯 测试目标

在将 `feature/v1.0.0-upgrade` 合并到 `main` 分支前，进行全面的人工测试，确保：
1. ✅ 所有功能正常工作
2. ✅ 用户体验流畅
3. ✅ 没有明显的bug
4. ✅ 性能表现良好
5. ✅ 文档准确完整

---

## 📋 测试准备

### 1. 环境准备

**确认当前分支**:
```bash
git branch
# 应该显示: * feature/v1.0.0-upgrade
```

**确认代码是最新的**:
```bash
git pull origin feature/v1.0.0-upgrade
```

**确认依赖已安装**:
```bash
pip list | grep -E "(pygame|pytest)"
# 应该看到 pygame 和 pytest
```

---

### 2. 测试方式选择

你可以选择以下任一方式进行测试：

#### 方式A: 测试源码版本（推荐用于开发测试）
```bash
python start_game.py
```
**优点**:
- 可以看到详细的日志输出
- 方便调试
- 可以快速修改代码重新测试

#### 方式B: 测试打包版本（推荐用于发布前测试）
```bash
cd dist/CircuitRepairGame
./CircuitRepairGame.exe
```
**优点**:
- 测试真实的用户体验
- 验证打包是否正确
- 确认资源文件都被正确包含

**建议**: 两种方式都测试一遍！

---

## 🧪 测试清单

### 第一部分: 启动和基础功能 (10分钟)

#### 1.1 游戏启动 ✓
- [ ] 双击启动游戏（或运行 `python start_game.py`）
- [ ] 游戏窗口正常打开（800x600）
- [ ] 窗口标题显示正确："电路修复游戏"
- [ ] 窗口图标显示正确
- [ ] 启动时间 < 2秒
- [ ] 无错误弹窗

**预期结果**: 游戏顺利启动，进入主菜单

---

#### 1.2 主菜单界面 ✓
- [ ] 背景图片正常显示
- [ ] 游戏标题清晰可见："电路修复游戏"
- [ ] 右上角进度面板显示（显示完成关卡数和星数）
- [ ] 4个难度按钮显示正常：
  - [ ] 简单 (60秒)
  - [ ] 普通 (45秒)
  - [ ] 困难 (30秒)
  - [ ] 地狱 (15秒)
- [ ] 3个主要按钮显示正常：
  - [ ] "新游戏" 或 "开始游戏"
  - [ ] "关卡选择" ⭐ 新功能
  - [ ] "退出游戏"

**测试操作**:
1. 鼠标悬停在每个按钮上，观察hover效果
2. 点击不同的难度按钮，观察选中状态变化

**预期结果**: 所有UI元素显示正常，按钮交互流畅

---

### 第二部分: 关卡选择功能 (10分钟) ⭐ 新功能

#### 2.1 进入关卡选择 ✓
- [ ] 点击主菜单的"关卡选择"按钮
- [ ] 顺利进入关卡选择场景
- [ ] 场景标题显示："选择关卡 (Select Level)"

**预期结果**: 成功进入关卡选择场景

---

#### 2.2 关卡选择界面 ✓
- [ ] 10个关卡按钮以5x2网格排列
- [ ] 关卡1（第一关）显示为可点击状态
- [ ] 已完成的关卡显示为绿色
- [ ] 已完成的关卡下方显示星级（★★★）
- [ ] 未解锁的关卡显示为灰色
- [ ] 未解锁的关卡下方显示锁图标（🔒）
- [ ] "返回主菜单"按钮显示正常

**测试操作**:
1. 观察每个关卡的状态（解锁/锁定/完成）
2. 鼠标悬停在已解锁的关卡上，观察hover效果
3. 尝试点击锁定的关卡（应该无反应）

**预期结果**: 关卡状态显示正确，交互符合预期

---

#### 2.3 从关卡选择进入游戏 ✓
- [ ] 点击一个已解锁的关卡
- [ ] 进入加载场景
- [ ] 加载完成后进入游戏场景
- [ ] 游戏显示正确的关卡

**测试操作**:
1. 点击关卡1
2. 观察加载过程
3. 确认进入的是关卡1

**预期结果**: 能够从关卡选择正确进入指定关卡

---

#### 2.4 返回主菜单 ✓
- [ ] 点击"返回主菜单"按钮能返回
- [ ] 按ESC键能返回主菜单

**预期结果**: 两种方式都能正常返回主菜单

---

### 第三部分: 游戏核心功能 (15分钟)

#### 3.1 开始新游戏 ✓
- [ ] 从主菜单选择一个难度（建议选"普通"）
- [ ] 点击"新游戏"或"开始游戏"
- [ ] 进入加载场景
- [ ] 看到加载进度条和提示文字
- [ ] 加载完成后自动进入游戏场景

**预期结果**: 游戏正常启动，进入第一关

---

#### 3.2 游戏场景界面 ✓
- [ ] 游戏背景正常显示
- [ ] 电路板网格清晰可见
- [ ] 电路元件正确显示：
  - [ ] 电源（红色圆点）
  - [ ] 终点（绿色圆点）
  - [ ] 直线电路
  - [ ] 转角电路
- [ ] 可点击的黑色方块清晰标识
- [ ] 右上角显示倒计时
- [ ] 显示移动次数
- [ ] 显示当前关卡信息

**预期结果**: 游戏界面完整，所有元素显示正常

---

#### 3.3 游戏操作 ✓
**测试旋转功能**:
- [ ] 点击一个黑色方块
- [ ] 电路元件旋转90度（顺时针）
- [ ] 旋转动画流畅
- [ ] 移动次数增加1
- [ ] 可以连续点击同一个方块多次旋转

**测试倒计时**:
- [ ] 倒计时数字每秒递减
- [ ] 倒计时接近结束时有视觉提示（如变红）

**测试暂停功能**:
- [ ] 按ESC键暂停游戏
- [ ] 倒计时停止
- [ ] 显示暂停菜单
- [ ] 再按ESC键或点击"继续"恢复游戏

**测试调试功能**:
- [ ] 按F3键显示调试信息
- [ ] 显示FPS、坐标等信息
- [ ] 再按F3键隐藏调试信息

**预期结果**: 所有操作响应正确，无卡顿

---

#### 3.4 完成关卡 ✓
**测试胜利流程**:
- [ ] 旋转电路元件，连接电源到终点
- [ ] 连接完成后有视觉反馈（电流动画）
- [ ] 自动进入胜利场景
- [ ] 显示"胜利！"文字
- [ ] 显示星级评分（1-3星）
- [ ] 显示用时和移动次数
- [ ] 显示"下一关"和"返回主菜单"按钮

**测试下一关**:
- [ ] 点击"下一关"按钮
- [ ] 进入下一个关卡
- [ ] 关卡难度递增

**预期结果**: 胜利流程完整，能够继续下一关

---

#### 3.5 失败场景 ✓
**测试失败流程**:
- [ ] 开始一个关卡
- [ ] 等待倒计时结束（不完成关卡）
- [ ] 自动进入失败场景
- [ ] 显示"失败"文字
- [ ] 显示失败原因："时间用尽"
- [ ] 显示"重试"和"返回主菜单"按钮

**测试重试**:
- [ ] 点击"重试"按钮
- [ ] 重新开始当前关卡
- [ ] 倒计时重置

**预期结果**: 失败流程完整，能够重试

---

### 第四部分: 进度系统 (10分钟)

#### 4.1 进度保存 ✓
- [ ] 完成一个关卡
- [ ] 退出游戏
- [ ] 重新启动游戏
- [ ] 主菜单的进度面板显示正确的完成数
- [ ] 进入关卡选择，已完成的关卡显示星级
- [ ] 下一关卡已解锁

**预期结果**: 进度正确保存和加载

---

#### 4.2 星级系统 ✓
- [ ] 快速完成关卡（少移动、少用时）获得3星
- [ ] 慢速完成关卡获得1-2星
- [ ] 星级正确显示在关卡选择界面
- [ ] 主菜单显示总星数

**预期结果**: 星级评分合理，显示正确

---

### 第五部分: 性能和稳定性 (10分钟)

#### 5.1 性能测试 ✓
- [ ] 按F3查看FPS
- [ ] FPS稳定在60左右
- [ ] 旋转动画流畅无卡顿
- [ ] 场景切换流畅
- [ ] 内存占用正常（任务管理器查看）

**预期结果**: 性能良好，无明显卡顿

---

#### 5.2 稳定性测试 ✓
- [ ] 连续玩5-10个关卡
- [ ] 多次切换场景（主菜单↔关卡选择↔游戏）
- [ ] 多次暂停/恢复
- [ ] 多次重试关卡
- [ ] 无崩溃、无卡死

**预期���果**: 游戏稳定运行，无异常

---

#### 5.3 边界情况测试 ✓
- [ ] 快速连续点击按钮（不会重复触发）
- [ ] 在加载过程中按键（不会出错）
- [ ] 窗口最小化后恢复（游戏继续正常）
- [ ] 关闭窗口能正常退出

**预期结果**: 边界情况处理正确

---

### 第六部分: 文档验证 (5分钟)

#### 6.1 README.md ✓
- [ ] 打开 `README.md`
- [ ] 检查所有链接是否有效
- [ ] 检查安装说明是否准确
- [ ] 检查游戏说明是否清晰

**预期结果**: 文档准确完整

---

#### 6.2 用户指南 ✓
- [ ] 打开 `docs/USER_GUIDE.md`
- [ ] 检查操作说明是否清晰
- [ ] 检查截图/图片是否显示（如果有）

**预期结果**: 用户指南易于理解

---

#### 6.3 构建文档 ✓
- [ ] 打开 `docs/BUILD.md`
- [ ] 检查构建步骤是否准确
- [ ] 如果可能，按照文档重新构建一次

**预期结果**: 构建文档准确可用

---

## 📊 测试结果记录

### 测试环境
- **操作系统**: _______________
- **Python版本**: _______________
- **测试方式**: [ ] 源码版本  [ ] 打包版本
- **测试时间**: _______________

### 测试结果统计

| 测试部分 | 测试项 | 通过 | 失败 | 跳过 |
|---------|--------|------|------|------|
| 启动和基础功能 | 2 | ___ | ___ | ___ |
| 关卡选择功能 | 4 | ___ | ___ | ___ |
| 游戏核心功能 | 5 | ___ | ___ | ___ |
| 进度系统 | 2 | ___ | ___ | ___ |
| 性能和稳定性 | 3 | ___ | ___ | ___ |
| 文档验证 | 3 | ___ | ___ | ___ |
| **总计** | **19** | ___ | ___ | ___ |

### 发现的问题

#### 严重问题（阻塞合并）
_无 / 列出问题_

#### 一般问题（可以合并）
_无 / 列出问题_

#### 优化建议
_列出建议_

---

## ✅ 测试结论

- [ ] **通过** - 所有功能正常，可以合并到main分支
- [ ] **有条件通过** - 存在小问题但不影响核心功能，可以合并
- [ ] **不通过** - 存在严重问题，需要修复后重新测试

### 测试人员签名
_______________

### 测试完成时间
_______________

---

## 🚀 测试通过后的下一步

如果测试通过，你可以：

1. **创建Pull Request**
   ```bash
   # 在GitHub上创建PR: feature/v1.0.0-upgrade → main
   ```

2. **合并到main分支**
   ```bash
   git checkout main
   git merge feature/v1.0.0-upgrade
   git push origin main
   ```

3. **创建版本标签**
   ```bash
   git tag -a v1.0.0 -m "Release version 1.0.0"
   git push origin v1.0.0
   ```

4. **创建GitHub Release**
   - 上传 `CircuitRepairGame-v1.0.0-win64.zip`
   - 添加发布说明

---

## 💡 测试技巧

1. **记录问题**: 发现问题时立即记录，包括：
   - 问题描述
   - 复现步骤
   - 预期行为 vs 实际行为
   - 截图（如果可能）

2. **多次测试**: 关键功能多测试几次，确保稳定

3. **不同场景**: 尝试不同的操作顺序和组合

4. **用户视角**: 站在新用户的角度，看是否容易上手

5. **性能监控**: 注意游戏运行时的性能表现

---

**祝测试顺利！Good luck! 🎮**
